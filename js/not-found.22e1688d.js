"use strict";(self["webpackChunkavwx_account"]=self["webpackChunkavwx_account"]||[]).push([[757],{7145:function(e,t,r){r.d(t,{A:function(){return v}});var n=r(641),s=r(33);function a(e,t,r,a,i,o){const l=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["alert","alert-"+e.type]),role:"alert"},[(0,n.bF)(l,{icon:e.icon},null,8,["icon"]),(0,n.eW)("Â "+(0,s.v_)(e.text),1)],2)}var i=r(1114),o=r(1635),l=r(8490);const u={info:"info-circle",success:"check-circle",warning:"exclamation-triangle",danger:"times-circle"};let d=class extends l.lD{constructor(...e){super(...e),(0,i.A)(this,"type",void 0),(0,i.A)(this,"text",void 0)}get icon(){return u[this.type]||"bell"}};(0,o.Cg)([l.kv],d.prototype,"type",void 0),(0,o.Cg)([l.kv],d.prototype,"text",void 0),d=(0,o.Cg)([l.uA],d);var c=(0,l.t$)(d),h=r(6262);const g=(0,h.A)(c,[["render",a]]);var v=g},5360:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(641);const s=(0,n.Lk)("p",null,"Page could not be found",-1),a=[s];function i(e,t,r,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,a)}var o=r(1635),l=r(8490);let u=class extends l.lD{};u=(0,o.Cg)([l.uA],u);var d=(0,l.t$)(u),c=r(6262);const h=(0,c.A)(d,[["render",i]]);var g=h},3061:function(e,t,r){r.r(t),r.d(t,{default:function(){return K}});var n=r(641);const s={class:"container py-3"};function a(e,t,r,a,i,o){const l=(0,n.g2)("Header"),u=(0,n.g2)("WiggleForm"),d=(0,n.g2)("UserDetailForm"),c=(0,n.g2)("UserUsageForm");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(l,{title:"Wiggle View",subtitle:"Hello there wiggler. Enter the endpoint and email before requesting changes."}),(0,n.Lk)("main",null,[(0,n.bF)(u,{header:e.header},null,8,["header"]),(0,n.Lk)("p",null,[(0,n.bF)(d,{header:e.header},null,8,["header"])]),(0,n.Lk)("p",null,[(0,n.bF)(c,{header:e.header},null,8,["header"])])])])}var i=r(1114),o=r(1635),l=r(8490),u=r(6205);const d=["disabled"],c={key:0},h={key:1},g={key:1},v={key:2},p=(0,n.Lk)("p",null,"Loading...",-1),m=[p];function b(e,t,r,s,a,i){const o=(0,n.g2)("Alert"),l=(0,n.g2)("UsageChart");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.fetchUser&&e.fetchUser(...t)),disabled:e.isSubmitting,class:"btn btn-primary"},"Token History",8,d),e.errorText.length>0?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.bF)(o,{type:"danger",text:e.errorText},null,8,["text"])])):(0,n.Q3)("",!0),e.data?((0,n.uX)(),(0,n.CE)("div",h,[e.data.length>0?((0,n.uX)(),(0,n.Wv)(l,{key:0,data:e.data},null,8,["data"])):((0,n.uX)(),(0,n.CE)("p",g,"No usage during this time period."))])):e.isSubmitting?((0,n.uX)(),(0,n.CE)("div",v,m)):(0,n.Q3)("",!0)])}var k=r(7145),A=r(3229),f=r(1526);class C{async userData(e){const t=e.root+"/user/data",r=await f.A.post(t,{email:e.email});return r.data}async allHistory(e,t=30){const r=e.root+"/token/history",n=await f.A.post(r,{email:e.email},{params:{days:t}});return n.data}}const y=new C;var x=y;let U=class extends l.lD{constructor(...e){super(...e),(0,i.A)(this,"header",void 0),(0,i.A)(this,"data",void 0),(0,i.A)(this,"isSubmitting",!1),(0,i.A)(this,"errorText","")}fetchUser(){this.isSubmitting=!0,x.allHistory(this.header).then((e=>{this.data=e,this.errorText="",this.isSubmitting=!1}),(e=>{this.errorText=e.message,this.isSubmitting=!1}))}};(0,o.Cg)([l.kv],U.prototype,"header",void 0),U=(0,o.Cg)([(0,l.uA)({components:{Alert:k.A,UsageChart:A.A}})],U);var L=(0,l.t$)(U),E=r(6262);const F=(0,E.A)(L,[["render",b]]);var X=F,D=r(3751);const w={class:"form-group"};function S(e,t,r,s,a,i){return(0,n.uX)(),(0,n.CE)("div",w,[(0,n.Lk)("p",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.header.root=t),placeholder:"root",class:"form-control"},null,512),[[D.Jo,e.header.root]])]),(0,n.Lk)("p",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.header.email=t),placeholder:"email",class:"form-control"},null,512),[[D.Jo,e.header.email]])])])}let T=class extends l.lD{constructor(...e){super(...e),(0,i.A)(this,"header",void 0)}};(0,o.Cg)([l.kv],T.prototype,"header",void 0),T=(0,o.Cg)([l.uA],T);var H=(0,l.t$)(T);const $=(0,E.A)(H,[["render",S]]);var _=$,W=r(33);const Q=["disabled"],V={key:0},J={key:1};function N(e,t,r,s,a,i){const o=(0,n.g2)("Alert");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.fetchUser&&e.fetchUser(...t)),disabled:e.isSubmitting,class:"btn btn-primary"},"User Details",8,Q),e.errorText.length>0?((0,n.uX)(),(0,n.CE)("div",V,[(0,n.bF)(o,{type:"danger",text:e.errorText},null,8,["text"])])):(0,n.Q3)("",!0),e.user?((0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("p",null,"Email: "+(0,W.v_)(e.user.email),1),(0,n.Lk)("p",null,"Plan: "+(0,W.v_)(e.user.plan?.name||"None"),1),(0,n.Lk)("p",null,"Disabled: "+(0,W.v_)(e.user.disabled),1)])):(0,n.Q3)("",!0)])}let P=class extends l.lD{constructor(...e){super(...e),(0,i.A)(this,"header",void 0),(0,i.A)(this,"user",void 0),(0,i.A)(this,"isSubmitting",!1),(0,i.A)(this,"errorText","")}fetchUser(){this.isSubmitting=!0,x.userData(this.header).then((e=>{this.user=e,this.errorText="",this.isSubmitting=!1}),(e=>{this.errorText=e.message,this.isSubmitting=!1}))}};(0,o.Cg)([l.kv],P.prototype,"header",void 0),P=(0,o.Cg)([(0,l.uA)({components:{Alert:k.A}})],P);var q=(0,l.t$)(P);const j=(0,E.A)(q,[["render",N]]);var z=j;let B=class extends l.lD{constructor(...e){super(...e),(0,i.A)(this,"header",{root:"",email:""})}};B=(0,o.Cg)([(0,l.uA)({components:{WiggleForm:_,Header:u.A,UserDetailForm:z,UserUsageForm:X}})],B);var G=(0,l.t$)(B);const I=(0,E.A)(G,[["render",a]]);var K=I}}]);
//# sourceMappingURL=not-found.22e1688d.js.map